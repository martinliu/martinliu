<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>elk on 刘征的博客</title><link>https://martinliu.cn/tags/elk/</link><description>Recent content in elk on 刘征的博客</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 06 Feb 2021 10:36:12 +0800</lastBuildDate><atom:link href="https://martinliu.cn/tags/elk/index.xml" rel="self" type="application/rss+xml"/><item><title>Elastic 可观测性工作坊</title><link>https://martinliu.cn/blog/workshop-elastic-observability/</link><pubDate>Sat, 06 Feb 2021 10:36:12 +0800</pubDate><guid>https://martinliu.cn/blog/workshop-elastic-observability/</guid><description>&lt;p>本工作坊包括本地虚拟机版本、AWS 和腾讯云共三个版本，目标是用实践的方式理解 Elastic 可观测性解决方案。可观测性是管理云原生以应用复杂且分布式运维难点的关键所在。&lt;/p></description></item><item><title>入门 Elastic Workplace Search</title><link>https://martinliu.cn/blog/getting-start-elastic-workplace-search/</link><pubDate>Fri, 24 Apr 2020 10:37:16 +0800</pubDate><guid>https://martinliu.cn/blog/getting-start-elastic-workplace-search/</guid><description>简介 Elastic Workplace Search 提供了一个统一的搜索体验，从而便于任何人在任何时间找到所需的文档信息。为企业搭建了一个横跨所有工作内容、所有团队和真相的统一搜索参考平台。
这个搜索平台能够对接各种数据源，并且实现文档内容级别的索引，目前所支持的数据源包括：OneDrive、SharePoint、ServiceNow、Box、Dropbox、Github、Github Enterprise、Google Drive、JIRA、Confluence、Salesforce、Zendesk 等。
它具有以下特点：
配置部署简单，缩短了系统上线和等待时间。不像是传统的消耗数个月甚至一年都无法完成的搜索项目，这个解决方案可以让企业在几天或几周内就能投入使用。 个性化定制的搜索体验。通过 Elasticsearch 所提供的搜索能力，管理员可以控制企业、团队级别的数据源，个体用户可以控制自己的私有数据源，所有级别上都可以调整相关度权重，从而提高搜索结果的准确性和实用性 提供各种自然语言的和关键字的搜索。系统提供了强大的语言分析和关键字检测能力，用户可以使用任意关键字和搜索开关轻松的搜索到所需的信息。 具备丰富的开箱即用功能：无须开发即可实现用户管理、数据源管理、基于用户和组的数据源可见性设置、数据源对不同用户和组的权重等功能。 系统安装配置 本文的假设，文中所使用的安装包和需要部署的配置文件都在 /vagrant 这个目录下面。下面的所有命令中都假设从这个目录里选用和复制。配置文件见代码库：https://github.com/martinliu/elastic-labs
本文所使用的安装测试环境是：
CentOS Server 8 JDK 11 Elasticsearch 7.6.1 Kibana 7.6.1 Elastic Workplace Search 7.6.1 下面使用 vagrant up 一键式拉起基础测试环境的说明，请参考之前的文章。本测试所使用的基础 ES 安装脚本如下。
echo I am provisioning a Elasticsearch Server... date &amp;gt; /etc/vagrant_provisioned_at sudo swapoff -a sudo sysctl -w vm.max_map_count=262144 sysctl -p sudo sh -c &amp;quot;echo 'elasticsearch - nofile 65535' &amp;gt;&amp;gt; /etc/security/limits.</description></item><item><title>随心所欲的为应用无痛添加搜索功能</title><link>https://martinliu.cn/blog/getting-start-elastic-app-search/</link><pubDate>Sat, 11 Apr 2020 09:36:49 +0800</pubDate><guid>https://martinliu.cn/blog/getting-start-elastic-app-search/</guid><description>开发搜索功能从此再也不用犯愁了，有了 App Search ，为应用增加搜索功能一下子变得简单了很多。本文描述了如何轻松上手这套搜索平台的所有步骤。
什么是 App Search? 这是一套强大的 API 和开发者工具集，以构建功能强大的面向用户的搜索应用为目标。相关详细介绍见 https://www.elastic.co/cn/app-search
丰富的开箱即用功能:
为相关性搜索应用场景而优化 拼写错误容忍 相关度调整 支持第三方 API 客户端，且具备强大的 API 独立的 API 日志和搜索分析 自动化扩展&amp;amp;运维支持 Search UI library 环境准备 测试环境现需要一台 Elasticsearch 服务器，或者和下面等同的环境。
本文的环境描述如下：
macOS 10.15.4 vagrant 2.2.7 virtualbox 6.0.15 虚拟机模板 bento/centos-8 elasticsearch 7.6.1 app-search 7.6.1 jdk-11.06 本文的测试环境基于 Vagrant + VirtualBox 的组合环境搭建而成，基础安装工作可以一键完成。
主要脚本 Vagrantfile、pre-install-ES.sh 请参考此代码库：
https://github.com/martinliu/elastic-labs/tree/master/app-search
开启并登陆这套安装环境的命令如下。
vagrant up vagrant ssh 在以上命令的启动信息里找到如下的 elastic 用户密码部分备用。
master1: Changed password for user elastic master1: PASSWORD elastic = eczHJ7NPrsO1B1BRA8SS 安装 App Search 浏览 App Search 的安装文档： https://swiftype.</description></item><item><title>使用 Elastic Stack 监控 Covid-19 疫情发展</title><link>https://martinliu.cn/blog/%E4%BD%BF%E7%94%A8-elastic-stack-%E7%9B%91%E6%8E%A7-covid-19-%E7%96%AB%E6%83%85%E5%8F%91%E5%B1%95/</link><pubDate>Wed, 08 Apr 2020 17:04:08 +0800</pubDate><guid>https://martinliu.cn/blog/%E4%BD%BF%E7%94%A8-elastic-stack-%E7%9B%91%E6%8E%A7-covid-19-%E7%96%AB%E6%83%85%E5%8F%91%E5%B1%95/</guid><description>代号为 COVID-19 的新型冠状病毒肺炎在全球肆虐着，剧情翻转的非常快，目前欧美已经成为了全球的重灾区。 本文介绍如何使用 Elastic Stack，实现对国内外疫情发展态势的分析。介绍一种简单易行的数据分析流程。说不定你也可以得出独到的高价值洞察。
本文使用的 Elastic Stack 版本和环境如下：
Vagrant 的基础镜像 bento/centos-8 Elasticsearch 7.6.1 Kibana 7.6.1 Logstash 7.6.1 关于使用 Vagrant 环境搭建 Elastic Stack 的方法，见我之前的文章。本文的数据分析处理流程图如下所示。
分析和展示丁香园数据 本文的目标分析数据源是 https://ncov.dxy.cn/ncovh5/view/pneumonia 这个也是我们最近一直在关注的关于中国的疫情公布平台。
丁香园网页的数据被香港大学的 Isaac Lin 同学，通过他所开发的网络爬虫抓取加工后，用 API 的形式和 csv 数据文件的形式提供了出来，他的爬虫程序和结果数据给很多目前分析疫情的人带来了很大的帮助，有不少人去他的 blog 和 github 上点赞和评论的。
https://github.com/BlankerL/DXY-COVID-19-Data/tree/master/csv https://lab.isaaclin.cn/nCoV/ 你可以用 Python 程序调用Lin 同学的 API 然后在将处理后的结果写入 ES，这样的脚本可以参考 Rockybean 的这个 https://www.yuque.com/elastictalk/blog/et25?from=timeline。也可以用下面的命令将Github 的 csv 文件下载到本地，在做手工的数据分析，这样也等于是对林同学的数据内容和定义进行一次深入的探索，这也将更有益于你理解数据，方面后面使用 Kibana 做数据分析。
在本机使用 git 做数据下载和同步的命令如下。
git clone https://github.com/BlankerL/DXY-COVID-19-Data.git cd DXY-COVID-19-Data/ git pull 你也可以用用git pull命令在日后做数据更新，并进行后续的跟踪分析。</description></item><item><title>最简化 Elasticsearch &amp; Kibana &amp; Filebeat 安装说明</title><link>https://martinliu.cn/blog/install-es-kibana-filebeat/</link><pubDate>Thu, 26 Mar 2020 08:51:15 +0800</pubDate><guid>https://martinliu.cn/blog/install-es-kibana-filebeat/</guid><description>本文描述如何搭建一套具备用户名和密码安全认证的 Elastic Stack 系统，并开始使用 Filebeat 的基础模块实现分布式的日志收集。
安装单节点 Elasticsearch 服务器，启用用户名和密码安全认证，并创建 TLS 数字证书备用 安装 Kibana 服务器，并配置与 Elasticsearch 服务的连接 安装和配置 Filebeat 代理程序，并配置 system 和 auditd 模块 使用 Kibana 监控 Filebeat 所采集的系统日志，并监控系统的状态 为了使你也获得与我一致的安装和测试体验，请先下载并浏览相本文所使用的代码库：https://github.com/martinliu/elastic-labs
试验环境概述和启动 本文所使用相关软件以及版本。
macOS Catalina version 10.15.3 Vagrant 2.2.4 VirtalBox 6.0 操作系统镜像: bento/centos-8 (virtualbox, 202002.04.0) Elastic Stack 安装包（RPM） Elasticsearch 7.6.1 Kibana 7.6.1 Filebeat 7.6.1 使用 Vagrant 的目录共享功能，分享安装包到测试机的 /vagrant/rpm 目录下 注意事项：
你也可以使用任何一台 CentOS 8 虚拟机或者云主机，则后续的安装命令和 rpm 安装包的路径需要有所变化。 Vagrant 文件中定义的虚拟机配置为 4 GB 内存，建议你的操作系统最低为 8GB 内存，推荐 16GB 或者更高， 本文也适用于 Linux 或 Windows 操作系统的 Vagrant 测试环境，需要提前下载并且准备好 bento/centos-8 的基础操作系统镜像。 启动测试环境。</description></item></channel></rss>