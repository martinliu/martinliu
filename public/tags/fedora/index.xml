<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>fedora on DevOps &amp; SRE Blog</title>
    <link>https://martinliu.cn/tags/fedora/</link>
    <description>Recent content in fedora on DevOps &amp; SRE Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Sat, 18 Jul 2015 13:29:45 +0000</lastBuildDate><atom:link href="https://martinliu.cn/tags/fedora/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Atomic Host 原子主机最简测试</title>
      <link>https://martinliu.cn/2015/07/18/atomic-host-e58e9fe5ad90e4b8bbe69cbae69c80e7ae80e6b58be8af95/</link>
      <pubDate>Sat, 18 Jul 2015 13:29:45 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/07/18/atomic-host-e58e9fe5ad90e4b8bbe69cbae69c80e7ae80e6b58be8af95/</guid>
      <description>环境准备 本文使用笔记本电脑+KVM虚拟化进行以下的测试过程，当然也可以用其它的操作系统加虚拟化软件的组合，测试机需要满足以下的条件： 测试虚拟机的建议配置1C/2GB/10GB 虚拟机使用的网络需要能连接到互联网 虚拟机需要能加载光盘iso文件 可以执行起停虚拟机操作，能通过控制它登陆来做初始化配置
本文测试机是Lenovo T440s笔记本电脑，安装的操作系统是Fedora 22，使用KVM虚拟化，用Virt-Manager做GUI图形管理工具。建立了一个NAT的静态虚拟网络，虚拟机可以使用该网络来从互联网下载需要的文件包。
下载Fedora Atomic Host虚拟机文件；下载页面： http://www.projectatomic.io/download/ 点击绿色的下载按钮。下载qcow2格式的Atomic Host虚拟机文件。复制下载的文件到虚拟机运行的存储目录中，文件名可以是master.qcow2，新测试虚拟机会基于它创建。
在通过这个虚拟机模版文件生成测试机前，需要准备一个init.iso的文件，用来初始化测试机的主机名和初始用户密码。
[bash] [root@martin-fedora vm]# cat meta-data instance-id: master local-hostname: master.xenlab.com [root@martin-fedora vm]# cat user-data #cloud-config password: smartvm ssh_pwauth: True chpasswd: { expire: False } [root@martin-fedora vm]# genisoimage -output init.iso -volid cidata -joliet -rock user-data meta-data I: -input-charset not specified, using utf-8 (detected in locale settings) Total translation table size: 0 Total rockridge attributes bytes: 331 Total directory bytes: 0 Path table size(bytes): 10 Max brk space used 0 183 extents written (0 MB) [/bash]</description>
    </item>
    
    <item>
      <title>Ovirt 服务器虚拟化测试</title>
      <link>https://martinliu.cn/2015/07/12/ovirt-e69c8de58aa1e599a8e8999ae68b9fe58c96e6b58be8af95/</link>
      <pubDate>Sun, 12 Jul 2015 11:16:44 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/07/12/ovirt-e69c8de58aa1e599a8e8999ae68b9fe58c96e6b58be8af95/</guid>
      <description>本文安装和测试的软件是Ovirt+KVM的服务器虚拟化，这两个项目是红帽RHEVM+KVM服务器虚拟化的上游社区产品。可以通过这个文档清晰的了解到红帽服务器虚拟化产品的大体功能，基本特点。本测试文档使用的是Centos7+社区yum 源；因此是最新的ovirt和kvm的功能。如果是正式的企业级需求测试，请使用光纤或者传统存储，从而达到和vmware等商业产品最好的类比测试。尽量避免使用嵌套kvm虚拟化的方式，除非您很熟悉Linux，使用两个笔记本是最简单的测试环境。
下图是Ovirt服务器的详细架构图。其中的ovirt-engine是本文安装和部署的部分，是用一个centos7的虚拟机安装的。Host1也是用一个centos7的虚拟机安装的。半年之前我也配置过一次嵌套kvm，根本是一头雾水，而且还没有成功，不过这次的配置过程却这么简单容易，就正常工作了。希望简单一点的人，可以把Host1用物理机来安装，也会节省很多时间。
[caption id=&amp;ldquo;attachment_53901&amp;rdquo; align=&amp;ldquo;alignnone&amp;rdquo; width=&amp;ldquo;512&amp;rdquo;]ovirt 架构图[/caption]
KVM嵌套虚拟化准备 在测试KVM服务器虚拟化的过程中，如果您能有独立的物理机跑Hypervisor，那么您可以忽略本节。至今进入ovirt的安装。 下面的测试的物理机是 Lenovo T440s 笔记本，运行的 Fedora 22 操作系统，使用 KVM manager 做虚拟机的管理工具。本次测试用到两个虚拟机：
  ovirt: 运行服务器虚拟化的管理机ovirt，这个程序类似于vmware 的 vcenter。
  ovirt-host : 用来被ovirt管理的hypervisor；使用 kvm 嵌套 kvm 的方式，来跑虚拟机。
  确认本机的服务器虚拟机CPU Bios配置正常。
[bash]
egrep -c &amp;lsquo;(vmx|svm)&amp;rsquo; /proc/cpuinfo 4
[/bash]
本机是i5的CPU，双核开启超线程，显示为4。还没有启用嵌套KVM的虚拟机，需要新建下面这个配置文件，操作系统不同，可能稍微不同，下面是以 Fedora 22 为例。
vi /etc/modprobe.d/kvm-nested.conf 编辑以上文件，增加下面这行参数即可 options kvm_intel nested=1
运行下面的命令，为操作系统内核加載此功能。
[bash]
modprobe -r kvm_intel # unload modprobe kvm_intel # reload again
cat /sys/module/kvm_intel/parameters/nested Y</description>
    </item>
    
    <item>
      <title>用 powertop 给笔记本电脑省电</title>
      <link>https://martinliu.cn/2015/06/13/e794a8-powertop-e7bb99e7ac94e8aeb0e69cace794b5e88491e79c81e794b5/</link>
      <pubDate>Sat, 13 Jun 2015 14:27:17 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/06/13/e794a8-powertop-e7bb99e7ac94e8aeb0e69cace794b5e88491e79c81e794b5/</guid>
      <description>如何安装：
[bash]
sudo dnf install powertop
sudo powertop
sudo systemctl start powertop.service
sudo systemctl enable powertop.service
[/bash]
[gallery link=&amp;ldquo;file&amp;rdquo; ids=&amp;ldquo;53761,53762,53763,53764,53765&amp;rdquo;]
使用Tab和shift + tab 键在以上屏幕直接切换。
我发现我主要使用 Tunables 这个tab来找出可以安全关闭的设备服务。以上测试是在我目前的 Fedora 22 on Lenovo T440s上作的。
本文参考：http://fedoramagazine.org/saving-laptop-power-with-powertop/</description>
    </item>
    
    <item>
      <title>Achilles的脚后跟</title>
      <link>https://martinliu.cn/2015/06/04/achillese79a84e8849ae5908ee8b79f/</link>
      <pubDate>Thu, 04 Jun 2015 05:15:53 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/06/04/achillese79a84e8849ae5908ee8b79f/</guid>
      <description>今天是红帽服务团队深圳Bootcamp的最后一天，我是最后一个session的演讲者，讲的内容是补丁管理，这是个老生常谈的话题，看看我怎么构思和解读的。
[su_button url=&amp;ldquo;http://7bv9gn.com1.z0.glb.clouddn.com/wp-content/uploads/2015/06/Patch-Management.pdf&amp;rdquo; target=&amp;ldquo;blank&amp;rdquo; style=&amp;ldquo;stroked&amp;rdquo; size=&amp;ldquo;2&amp;rdquo; icon=&amp;ldquo;icon: cloud-download&amp;rdquo;]PPT下载在这里[/su_button]
主要思路还是把目前的相关知识梳理一边。特别是借鉴了公司安全大师Shawn的一些内容。
玩好防塔游戏 把操作系统的该打的补丁都打好，避免已知漏洞的暴露。
做好安全加固 修补Achilles的脚后跟，是说把安全配置基线落实到系统中，并行成为长效保持机制。
其实这些还是和配置管理有关和CMDB有关，真是老生常谈呵呵</description>
    </item>
    
    <item>
      <title>Fedora 22 使用体验不错</title>
      <link>https://martinliu.cn/2015/05/28/fedora-22-e4bdbfe794a8e4bd93e9aa8ce4b88de99499/</link>
      <pubDate>Thu, 28 May 2015 16:02:23 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/05/28/fedora-22-e4bdbfe794a8e4bd93e9aa8ce4b88de99499/</guid>
      <description>下面是随手的几个截图。



一部分F22新功能评测在这里http://fedoramagazine.org/whats-new-fedora-22-workstation/</description>
    </item>
    
    <item>
      <title>Fedora 22 将于5月26日发布</title>
      <link>https://martinliu.cn/2015/05/24/fedora-22-e5b086e4ba8e5e69c8826e697a5e58f91e5b883/</link>
      <pubDate>Sun, 24 May 2015 08:37:06 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/05/24/fedora-22-e5b086e4ba8e5e69c8826e697a5e58f91e5b883/</guid>
      <description>No Content Found</description>
    </item>
    
    <item>
      <title>如何参与 Project Atomic</title>
      <link>https://martinliu.cn/2015/03/19/e5a682e4bd95e58f82e4b88e-project-atomic/</link>
      <pubDate>Thu, 19 Mar 2015 03:23:37 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/03/19/e5a682e4bd95e58f82e4b88e-project-atomic/</guid>
      <description>关于 Project Atomic 项目 
Project Atomic 项目相关的开源技术组件如下：
[wm_list bullet=&amp;ldquo;icon-linux&amp;rdquo; class=&amp;quot;&amp;quot;]
  linux kernel
  systemd
  OSTree and rpm-ostree
  Docker
  kubernetes
  Fedora and CentOS
  [/wm_list]
该项目的网站在： http://www.projectatomic.io/
加入 Project Atomic 邮件列表 项目一般性讨论： https://lists.projectatomic.io/mailman/listinfo/atomic
项目开发者：https://lists.projectatomic.io/mailman/listinfo/atomic-devel
项目版本发布更新：https://lists.projectatomic.io/mailman/listinfo/atomic-announce
填写自己的邮箱后，别忘了在邮箱里收信，并且确认。如下图所示：

问 Project Atomic 问题和讨论 http://ask.projectatomic.io/en/questions/ 这里是项目的论坛可以在这里提问和帮助其他人。
了解 Project Atomic 代码 https://github.com/projectatomic/ 项目的代码在Github网站上可以看到，如果你watch这个项目的话，可以收到所有开发者对该项目的所有代码更新等活动。</description>
    </item>
    
    <item>
      <title>Fedora 22 有何值得期待</title>
      <link>https://martinliu.cn/2015/01/26/fedora-22-e69c89e4bd95e580bce5be97e69c9fe5be85/</link>
      <pubDate>Mon, 26 Jan 2015 14:26:12 +0000</pubDate>
      
      <guid>https://martinliu.cn/2015/01/26/fedora-22-e69c89e4bd95e580bce5be97e69c9fe5be85/</guid>
      <description>我使用这新安装的F21，连接着公司阿姆斯特丹的VPN，流畅的使用Firefox ， Chrome 上网，在没有墙的世界里顺利传行着。重返Linux世界，想起来很久没有用windows桌面了，渐渐适应和熟悉这感觉，且有些怀旧。
之前Fedora是没有太多的体验，用的最多的是opensuse + kde桌面的组合。目前，看到fedora magazine上很多更新，感觉真的是发展的太快了。 http://fedoramagazine.org/see-whats-coming-in-fedora-22-workstation/ 看了下这个帖子，上面说F22的提升包括：更长的电池寿命、gnome Wayland更多改进、开始应用bundle的开发、更好的第三方应用支持、提升Terminal、改善开发工具等等。查看更多细节：Christian’s blog post</description>
    </item>
    
  </channel>
</rss>
